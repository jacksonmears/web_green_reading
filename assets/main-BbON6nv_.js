async function Br(X={}){var d,n=X,Y=import.meta.url,b="";function Z(r){return n.locateFile?n.locateFile(r,b):b+r}var U;{try{b=new URL(".",Y).href}catch{}U=async r=>{var e=await fetch(r,{credentials:"same-origin"});if(e.ok)return e.arrayBuffer();throw new Error(e.status+" : "+e.url)}}console.log.bind(console);var h=console.error.bind(console),y,k=!1,B,S,g,R,u,T=!1;function F(){var r=w.buffer;g=new Int8Array(r),n.HEAPU8=R=new Uint8Array(r),n.HEAP32=new Int32Array(r),u=new Uint32Array(r),n.HEAPF32=new Float32Array(r),new BigInt64Array(r),new BigUint64Array(r)}function J(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ar(n.preRun.shift());M(W)}function K(){T=!0,_.e()}function Q(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)nr(n.postRun.shift());M(E)}function C(r){n.onAbort?.(r),r="Aborted("+r+")",h(r),k=!0,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw S?.(e),e}var A;function O(){return n.locateFile?Z("main.wasm"):new URL("main.wasm",import.meta.url).href}function G(r){if(r==A&&y)return new Uint8Array(y);throw"both async and sync fetching of the wasm failed"}async function q(r){if(!y)try{var e=await U(r);return new Uint8Array(e)}catch{}return G(r)}async function x(r,e){try{var t=await q(r),a=await WebAssembly.instantiate(t,e);return a}catch(o){h(`failed to asynchronously prepare wasm: ${o}`),C(o)}}async function rr(r,e,t){if(!r)try{var a=fetch(e,{credentials:"same-origin"}),o=await WebAssembly.instantiateStreaming(a,t);return o}catch(s){h(`wasm streaming compile failed: ${s}`),h("falling back to ArrayBuffer instantiation")}return x(e,t)}function er(){var r={a:Pr};return r}async function tr(){function r(s,i){return _=s.exports,Ar(_),F(),_}function e(s){return r(s.instance)}var t=er();if(n.instantiateWasm)return new Promise((s,i)=>{n.instantiateWasm(t,(f,l)=>{s(r(f))})});A??=O();var a=await rr(y,A,t),o=e(a);return o}var M=r=>{for(;r.length>0;)r.shift()(n)},E=[],nr=r=>E.push(r),W=[],ar=r=>W.push(r),ir=r=>I(r),sr=()=>V();class or{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){u[this.ptr+4>>2]=e}get_type(){return u[this.ptr+4>>2]}set_destructor(e){u[this.ptr+8>>2]=e}get_destructor(){return u[this.ptr+8>>2]}set_caught(e){e=e?1:0,g[this.ptr+12]=e}get_caught(){return g[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,g[this.ptr+13]=e}get_rethrown(){return g[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){u[this.ptr+16>>2]=e}get_adjusted_ptr(){return u[this.ptr+16>>2]}}var j=0,fr=(r,e,t)=>{var a=new or(r);throw a.init(e,t),j=r,j},cr=()=>C(""),ur=()=>2147483648,lr=(r,e)=>Math.ceil(r/e)*e,vr=r=>{var e=w.buffer.byteLength,t=(r-e+65535)/65536|0;try{return w.grow(t),F(),1}catch{}},mr=r=>{var e=R.length;r>>>=0;var t=ur();if(r>t)return!1;for(var a=1;a<=4;a*=2){var o=e*(1+.2/a);o=Math.min(o,r+100663296);var s=Math.min(t,lr(Math.max(r,o),65536)),i=vr(s);if(i)return!0}return!1},H=r=>{var e=n["_"+r];return e},gr=(r,e)=>{g.set(r,e)},hr=r=>{for(var e=0,t=0;t<r.length;++t){var a=r.charCodeAt(t);a<=127?e++:a<=2047?e+=2:a>=55296&&a<=57343?(e+=4,++t):e+=3}return e},yr=(r,e,t,a)=>{if(!(a>0))return 0;for(var o=t,s=t+a-1,i=0;i<r.length;++i){var f=r.codePointAt(i);if(f<=127){if(t>=s)break;e[t++]=f}else if(f<=2047){if(t+1>=s)break;e[t++]=192|f>>6,e[t++]=128|f&63}else if(f<=65535){if(t+2>=s)break;e[t++]=224|f>>12,e[t++]=128|f>>6&63,e[t++]=128|f&63}else{if(t+3>=s)break;e[t++]=240|f>>18,e[t++]=128|f>>12&63,e[t++]=128|f>>6&63,e[t++]=128|f&63,i++}}return e[t]=0,t-o},_r=(r,e,t)=>yr(r,R,e,t),N=r=>z(r),pr=r=>{var e=hr(r)+1,t=N(e);return _r(r,t,e),t},L=globalThis.TextDecoder&&new TextDecoder,Rr=(r,e,t,a)=>{for(var o=e+t;r[e]&&!(e>=o);)++e;return e},wr=(r,e=0,t,a)=>{var o=Rr(r,e,t);if(o-e>16&&r.buffer&&L)return L.decode(r.subarray(e,o));for(var s="";e<o;){var i=r[e++];if(!(i&128)){s+=String.fromCharCode(i);continue}var f=r[e++]&63;if((i&224)==192){s+=String.fromCharCode((i&31)<<6|f);continue}var l=r[e++]&63;if((i&240)==224?i=(i&15)<<12|f<<6|l:i=(i&7)<<18|f<<12|l<<6|r[e++]&63,i<65536)s+=String.fromCharCode(i);else{var v=i-65536;s+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return s},dr=(r,e,t)=>r?wr(R,r,e):"",D=(r,e,t,a,o)=>{var s={string:c=>{var p=0;return c!=null&&c!==0&&(p=pr(c)),p},array:c=>{var p=N(c.length);return gr(c,p),p}};function i(c){return e==="string"?dr(c):e==="boolean"?!!c:c}var f=H(r),l=[],v=0;if(a)for(var m=0;m<a.length;m++){var $=s[t[m]];$?(v===0&&(v=sr()),l[m]=$(a[m])):l[m]=a[m]}var P=f(...l);function kr(c){return v!==0&&ir(v),i(c)}return P=kr(P),P},br=(r,e,t,a)=>{var o=!t||t.every(i=>i==="number"||i==="boolean"),s=e!=="string";return s&&o&&!a?H(r):(...i)=>D(r,e,t,i)};if(n.noExitRuntime&&n.noExitRuntime,n.print&&n.print,n.printErr&&(h=n.printErr),n.wasmBinary&&(y=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()();n.ccall=D,n.cwrap=br;var I,z,V,w;function Ar(r){n._parseXYZFlattened=r.f,n._malloc=r.g,n._freeParticles=r.h,n._free=r.i,I=r.j,z=r.k,V=r.l,w=r.d,r.__indirect_function_table}var Pr={a:fr,b:cr,c:mr};function Ur(){J();function r(){n.calledRun=!0,!k&&(K(),B?.(n),n.onRuntimeInitialized?.(),Q())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),r()},1)):r()}var _;return _=await tr(),Ur(),T?d=n:d=new Promise((r,e)=>{B=r,S=e}),d}export{Br as default};
